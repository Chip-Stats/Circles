
<!DOCTYPE html>
<html>
<body>
<script src='https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js'></script>
<style> 
	* {text-align: center;}
</style>

<div id="map"></div>
<script>
d3.json("/tutorials/assets/data/gz_2010_us_050_00_5m.json", function(error, data) {
  var counties = data['features'];

  var height = 500,  width = 600;
  var svg = d3.select("#map").append("svg").attr('height', height).attr('width', width);
  var map = svg.append("g");

  var projection = d3.geo.albersUsa().scale(800).translate([width / 2, height / 2]);

  var path = d3.geo.path().projection(projection);

  var max_area = d3.max( counties, function(d) { return d['properties']['CENSUSAREA'] });
  var color_scale = d3.scale.linear().domain([0, max_area]).range(['beige', 'red']);

  map.selectAll("path").data(counties).enter().append("path").attr('d', path)
      .style('fill', function(d) {
        return color_scale(d['properties']['CENSUSAREA']);
      });
});
</script>
</body>
</html>
